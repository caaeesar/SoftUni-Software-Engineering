<!DOCTYPE html >
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head}" ></head>
<body>
<header th:replace="~{fragments/header}" ></header>
<main>
    <div th:object="${allProducts}" class="container bg-blur rounded mt-5 mb-4">
        <h1>All products to buy</h1>
        <div class="row mt-3 mb-3">
            <div class="col-5 bg-dark rounded m-auto" style="height: 30vh; overflow: auto">
                <h3 class="mySticky bg-gray text-dark rounded">Foods</h3>     
                    <div th:each="f : *{getProductsFood()}" class="mt-3 rounded badge-info">
                        <img class="mr-2" src="/img/food.png" alt="Food" width="50px" height="50px">
                        <span th:text="|Name: ${f.name} Price: ${f.price} lv|" >Name: {name} Price: {price} lv</span>
                        <form th:method="DELETE" th:action="@{/products/buy/{id}(id = ${f.id})}">
                            <button type="submit" class="btn btn-danger">Buy</button>
                        </form>
                        <!--<a class="ml-3 text-danger" th:method="DELETE" th:action="@{/products/buy/{id}(id = ${f.id})}">Buy</a>-->
                    </div>
            </div>
            <div class="col-5 bg-dark rounded m-auto" style="height: 30vh; overflow: auto">
                <h3 class="mySticky bg-gray text-dark rounded">Drinks</h3>
                    <div th:each="d : *{getProductsDrink()}" class="mt-3 rounded badge-warning">
                        <img class="mr-2" src="/img/drink.png" alt="Food" width="50px" height="50px">
                        <span th:text="|Name: ${d.name} Price: ${d.price} lv|" >Name: {name} Price: {price} lv</span>
                        <form th:method="DELETE" th:action="@{/products/buy/{id}(id = ${d.id})}">
                            <button type="submit" class="btn btn-danger">Buy</button>
                        </form>
                       <!-- <a class="ml-3 text-danger" th:method="DELETE" th:action="@{/products/buy/{id}(id = ${d.id})}" >Buy</a>-->
                    </div>
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <div class="col-5 bg-dark rounded m-auto" style="height: 30vh; overflow: auto">
                <h3 class="mySticky bg-gray text-dark rounded">Households</h3>
                    <div th:each="h : *{getProductsHousehold()}" class="mt-3 rounded badge-success">
                        <img class="mr-2" src="/img/household.png" alt="Food" width="50px" height="50px">
                        <span  th:text="|Name: ${h.name} Price: ${h.price} lv|">Name: {name} Price: {price} lv</span>
                        <form th:method="DELETE" th:action="@{/products/buy/{id}(id = ${h.id})}">
                            <button type="submit" class="btn btn-danger">Buy</button>
                        </form>
                        <!--<a class="ml-3 text-danger" th:method="DELETE" th:action="@{/products/buy/{id}(id = ${h.id})}">Buy</a>-->
                    </div>
            </div>
            <div class="col-5 bg-dark rounded m-auto" style="height: 30vh; overflow: auto">
                <h3 class="mySticky bg-gray text-dark rounded">Other</h3>
                    <div th:each="o : *{getProductOther()}" class="mt-3 rounded badge-secondary">
                        <img class="mr-2" src="/img/other.png" alt="Food" width="50px" height="50px">
                        <span  th:text="|Name: ${o.name} Price: ${o.price} lv|">Name: {name} Price: {price} lv</span>
                        <form th:method="DELETE" th:action="@{/products/buy/{id}(id=${o.id})}">
                            <button type="submit" class="btn btn-danger">Buy</button>
                        </form>
                     <!--   <a class="ml-3 text-danger" th:method="DELETE" th:action="@{/products/buy/{id}(id = ${o.id})}">Buy</a>-->
					</div>
            </div>
        </div>
        <form th:method="DELETE" th:action="@{/products/buyAll}">
            <button type="submit" class="btn btn-danger">
                <span th:text="|Buy all products for *{totalPrice} lv|"></span>
            </button>
        </form>
    <!--    <a th:method="DELETE" th:href="@{/product/buyAll}" th:text="|Buy all products for *{totalPrice} lv|" class="btn btn-danger">Buy all products for {totalPriceOfProducts} lv|</a>-->
    </div>
</main>
<footer th:replace="~{fragments/footer}" class="footer bg-transparent  py-2"></footer>
</body>
</html>
